<link rel="stylesheet" href="{{ asset('css/driver-checked.css') }}" />
{{ form_start(form) }}
            <div class="col md-6">
                <h1>Validation camion</h1>
            </div>
            <div class="col md-6" style="margin-bottom: 20px;">
                <span id="span-cariste">Attention, la validation de ce formulaire engage votre responsabilit√©</span>
            </div>
    <div class="container ">
        <div class="row">
            <div class="col md-6">
                {{ form_row(form.isDispatch) }}
            </div>
            <div class="col md-6">
                {{ form_row(form.isDelivery) }}
            </div>
        </div>
        <div class="row">
            <div class="col md-6" id="isChargeableField" style="display:none">
                {{form_row(form.isChargeable, {'required': form.isChargeable.vars.value}))}}
            </div>
            <div class="col md-6">
                {{form_row(form.transferCost)}}
            </div>
        </div>
        <div class="row">
            <div class="col md-6">
                {{form_row(form.isTruckDocChecked)}}
            </div>
            <div class="col md-6">
                {{form_row(form.isAlcohol)}}
            </div>
        </div>
        <div class="row">
            <div class="col md-6">
                {{form_row(form.isCustomDocChecked)}}
            </div>
        </div>
        <div class="row">
            <div class="col md-6">
                {{form_row(form.commentApprehensionCustom)}}
            </div>        
            <div class="col md-6">
                {{form_row(form.isStockMovement)}}
            </div>        
        </div>
        {% if app.user and 'ROLE_ADMIN' in app.user.roles %}
        <button class="green">{{ button_label|default('Enregister') }}</button>
        {% elseif app.user and 'ROLE_USER' not in app.user.roles %}
        <button class="green">{{ button_label|default('Enregister') }}</button>
        {% endif %}
        {% if app.user and 'ROLE_SUPER_ADMIN' in app.user.roles %}
        <button class="green">{{ button_label|default('Enregister') }}</button>
        {% endif %}
    </div>
{{ form_end(form) }}

{% block javascripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var isSplitedCheckbox = document.getElementById('{{ form.isChargeable.vars.id }}');
            var isChargeableField = document.getElementById('isChargeableField');
        
            isChargeableCheckbox.addEventListener('change', function() {
                isChargeableField.style.display = this.checked ? 'block' : 'none';
                var isChargeableInput = isChargeableField.getElementsByTagName('input')[0];
                isChargeableInput.required = this.checked;
            });
        });
    </script>
{% end block%}